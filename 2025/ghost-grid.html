<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>幽灵网格动画</title>
    <style>
      body {
        margin: 0;
        background-image: linear-gradient(120deg, #fdfbfb 0%, #ebedee 100%);
      }
      @property --x {
        syntax: "<number>";
        inherits: true;
        initial-value: 0;
      }
      @property --y {
        syntax: "<number>";
        inherits: true;
        initial-value: 0;
      }
      /* Ghost Grid 容器 * 创建3x3网格布局，用于实现交互式幽灵效果 */
      #ghost-grid {
        block-size: 100svb; /* 使用视口块方向高度 */
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        grid-template-rows: repeat(3, 1fr);
        --x: 0; /* 水平位移基准值 */
        --y: 0; /* 垂直位移基准值 */
      }
      /* SVG 容器样式 * 创建响应式容器，控制SVG图形的尺寸表现 */
      div:has(svg) {
        display: flex;
        container-type: inline-size; /* 启用基于宽度的容器查询 */
        svg {
          margin: auto; /* 垂直水平居中 */
          inline-size: 100%; /* 宽度填充容器 */
          max-inline-size: 50cqmin; /* 最大宽度为容器尺寸的50%（取宽度/高度较小值） */
          block-size: auto; /* 高度自适应 */
        }
      }
      #ghost-grid:has(div:nth-child(1):hover) {
        --x: -1;
        --y: -1;
      }
      #ghost-grid:has(div:nth-child(2):hover) {
        --x: 0;
        --y: -1;
      }
      #ghost-grid:has(div:nth-child(3):hover) {
        --x: 1;
        --y: -1;
      }
      #ghost-grid:has(div:nth-child(4):hover) {
        --x: -1;
        --y: 0;
      }
      #ghost-grid:has(div:nth-child(5):hover) {
        --x: 0;
        --y: 0;
      }
      #ghost-grid:has(div:nth-child(6):hover) {
        --x: 1;
        --y: 0;
      }
      #ghost-grid:has(div:nth-child(7):hover) {
        --x: -1;
        --y: 1;
      }
      #ghost-grid:has(div:nth-child(8):hover) {
        --x: 0;
        --y: 1;
      }
      #ghost-grid:has(div:nth-child(9):hover) {
        --x: 1;
        --y: 1;
      }
      /* 动态眼部动画效果 * 应用坐标变量实现平滑位移动画 */
      #ghost-grid svg :is(.eye, .dot) {
        transition-property: --x, --y; /* 监听坐标变量变化 */
        transition-duration: 0.2s;
        transition-timing-function: cubic-bezier(
          0.34,
          1.56,
          0.64,
          1
        ); /* 弹性缓动曲线 */
        translate: calc(var(--x) * 1px) calc(var(--y) * 1px); /* 变量转像素位移 */
      }
    </style>
  </head>
  <body>
    <div id="ghost-grid">
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div>
        <svg viewBox="0 0 14 14">
          <!-- 基础图形定义区 -->
          <defs>
            <!-- 基础像素点单元（带圆角矩形） -->
            <rect
              id="pixel-dot-rect"
              x="0.175"
              y="0.175"
              width="0.7"
              height="0.7"
              rx="0.2"
            ></rect>
            <!-- 绿色点阵图案定义 -->
            <pattern
              id="pixel-dot-pattern"
              viewBox="0 0 1 1"
              width="1"
              height="1"
              patternUnits="userSpaceOnUse"
            >
              <use fill="hsl(131, 59%, 51%)" href="#pixel-dot-rect"></use>
            </pattern>
            <!-- 蒙版定义：创建脸部的镂空效果 -->
            <mask id="pixel-dot-mask">
              <!-- 白色背景（完全显示） -->
              <rect fill="white" width="14" height="14"></rect>
              <!-- 镂空路径：绘制脸部轮廓细节 -->
              <path
                transform="translate(0 0.5)"
                fill="none"
                stroke="black"
                d="M 0 0 h5M 9 0h5 M 0 1h3 M 11 1h3 M 0 2h2 M 12 2h2M 0 3h1 M 13 3h1M 0 4h1 M 13 4h1 M 0 5h1 M 13 5h1 M 4 12h1 M 9 12h1 M 0 13h1 M 3 13h3 M8 13h3 M 13 13h1"
              ></path>
            </mask>
          </defs>
          <!-- 背景层：应用点阵图案和蒙版 -->
          <rect
            mask="url(#pixel-dot-mask)"
            fill="url(#pixel-dot-pattern)"
            width="14"
            height="14"
          ></rect>
          <!-- 左眼结构 -->
          <g class="eye">
            <g transform="translate(2 3)">
              <!-- 眼睛外框（白色描边） -->
              <path
                transform="translate(0 0.5)"
                fill="none"
                stroke="white"
                d="M 1 0 h2 M 0 1h4 M 0 2h4 M 0 3h4 M 1 4h2"
              ></path>
              <!-- 瞳孔区域（4个像素点组成2x2方块） -->
              <g fill="black" class="dot">
                <use transform="translate(1 1)" href="#pixel-dot-rect"></use>
                <use transform="translate(2 1)" href="#pixel-dot-rect"></use>
                <use transform="translate(1 2)" href="#pixel-dot-rect"></use>
                <use transform="translate(2 2)" href="#pixel-dot-rect"></use>
              </g>
            </g>
          </g>
          <!-- 右眼结构（镜像对称） -->
          <g class="eye">
            <g transform="translate(8 3)">
              <path
                transform="translate(0 0.5)"
                fill="none"
                stroke="white"
                d="M 1 0 h2 M 0 1h4 M 0 2h4 M 0 3h4 M 1 4h2"
              ></path>
              <g fill="black" class="dot">
                <use transform="translate(1 1)" href="#pixel-dot-rect"></use>
                <use transform="translate(2 1)" href="#pixel-dot-rect"></use>
                <use transform="translate(1 2)" href="#pixel-dot-rect"></use>
                <use transform="translate(2 2)" href="#pixel-dot-rect"></use>
              </g>
            </g>
          </g>
        </svg>
      </div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
    </div>
  </body>
</html>
